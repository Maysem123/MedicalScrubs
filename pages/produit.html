<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Détail du produit - myhygia">
    <title>Produit - myhygia</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="../css/variables.css">
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/pages.css">
    <link rel="stylesheet" href="../css/responsive.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="../assets/images/logo/logo.jpg">
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">
        <div class="header__container">
            <a href="../index.html" class="header__logo">
                <img src="../assets/images/logo/logo.jpg" alt="myhygia Logo">
                <span class="header__logo-text">myhygia</span>
            </a>
            
            <button class="mobile-menu-toggle" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <nav class="nav">
                <ul class="nav__list">
                    <li><a href="../index.html" class="nav__link">Accueil</a></li>
                    <li><a href="boutique.html" class="nav__link nav__link--active">Boutique</a></li>
                    <li><a href="../index.html#about" class="nav__link">À propos</a></li>
                    <li><a href="../index.html#contact" class="nav__link">Contact</a></li>
                </ul>
                <a href="panier.html" class="cart-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"/>
                        <circle cx="20" cy="21" r="1"/>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
                    </svg>
                    <span>Panier</span>
                    <span class="cart-badge" style="display: none;">0</span>
                </a>
            </nav>
        </div>
    </header>

    <main class="product-page">
        <div class="product__container">
            <!-- Breadcrumb -->
            <nav class="breadcrumb">
                <a href="../index.html">Accueil</a>
                <span>/</span>
                <a href="boutique.html">Boutique</a>
                <span>/</span>
                <span class="breadcrumb__current" id="breadcrumb-product">Produit</span>
            </nav>

            <div class="product__grid" id="product-detail">
                <!-- Product will be loaded by JavaScript -->
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer__grid">
            <div class="footer__section footer__about">
                <h3>myhygia</h3>
                <p>
                    Votre spécialiste en calots et bonnets médicaux de qualité. 
                    Nous accompagnons les professionnels de santé au quotidien.
                </p>
            </div>
            
            <div class="footer__section">
                <h3>Liens Rapides</h3>
                <div class="footer__links">
                    <a href="../index.html" class="footer__link">Accueil</a>
                    <a href="boutique.html" class="footer__link">Boutique</a>
                    <a href="../index.html#about" class="footer__link">À propos</a>
                    <a href="panier.html" class="footer__link">Panier</a>
                </div>
            </div>
            
            <div class="footer__section">
                <h3>Contact</h3>
                <div class="footer__contact-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                    </svg>
                    <span>+216 96 025 340</span>
                </div>
                <div class="footer__contact-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                    <span>contact@myhygia.ma</span>
                </div>
            </div>
        </div>
        
        <div class="footer__bottom">
            <p>&copy; 2026 myhygia. Tous droits réservés.</p>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <a href="#" class="back-to-top" aria-label="Retour en haut">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 15l-6-6-6 6"/>
        </svg>
    </a>

    <!-- Scripts -->
    <script src="../js/products.js"></script>
    <script src="../js/cart.js"></script>
    <script src="../js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get product ID from URL
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');
            
            if (!productId) {
                window.location.href = 'boutique.html';
                return;
            }
            
            const product = getProductById(productId);
            
            if (!product) {
                window.location.href = 'boutique.html';
                return;
            }
            
            // Update page title and breadcrumb
            document.title = `${product.name} - myhygia`;
            document.getElementById('breadcrumb-product').textContent = product.name;
            
            // Render product
            const productDetail = document.getElementById('product-detail');
            productDetail.innerHTML = `
                <div class="product__gallery">
                    <img src="../${product.image}" alt="${product.name}" class="product__image-main">
                </div>
                <div class="product__info">
                    <span class="product__category">${product.category}</span>
                    <h1 class="product__name">${product.name}</h1>
                    <div class="product__price">
                        <span class="product__price-current">${product.price} DT</span>
                        ${product.oldPrice ? `<span class="product__price-old">${product.oldPrice} DT</span>` : ''}
                    </div>
                    <p class="product__description">${product.description}</p>
                    
                    <div class="product__features">
                        <h3>Caractéristiques :</h3>
                        <ul>
                            ${product.features.map(f => `<li>${f}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="product__actions">
                        <div class="product__quantity">
                            <button class="quantity-btn" id="qty-minus">−</button>
                            <input type="number" value="1" min="1" max="10" class="quantity-input" id="quantity">
                            <button class="quantity-btn" id="qty-plus">+</button>
                        </div>
                        <button class="btn btn-primary btn-lg product__add-btn" id="add-to-cart">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="9" cy="21" r="1"/>
                                <circle cx="20" cy="21" r="1"/>
                                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
                            </svg>
                            Ajouter au panier
                        </button>
                    </div>
                    
                    <a href="boutique.html" class="btn btn-outline">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                        Retour à la boutique
                    </a>
                </div>
            `;
            
            // Quantity controls
            const quantityInput = document.getElementById('quantity');
            const minusBtn = document.getElementById('qty-minus');
            const plusBtn = document.getElementById('qty-plus');
            
            minusBtn.addEventListener('click', () => {
                let val = parseInt(quantityInput.value);
                if (val > 1) quantityInput.value = val - 1;
            });
            
            plusBtn.addEventListener('click', () => {
                let val = parseInt(quantityInput.value);
                if (val < 10) quantityInput.value = val + 1;
            });
            
            // Add to cart
            document.getElementById('add-to-cart').addEventListener('click', () => {
                const quantity = parseInt(quantityInput.value);
                Cart.addItem(product.id, quantity);
            });
        });
    </script>
</body>
</html>
