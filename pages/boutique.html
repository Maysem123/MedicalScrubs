<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Boutique myhygia - Découvrez notre collection complète de calots et bonnets médicaux pour professionnels de santé.">
    <title>Boutique - myhygia</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="../css/variables.css">
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/pages.css">
    <link rel="stylesheet" href="../css/responsive.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="../assets/images/logo/logo.jpg">
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">
        <div class="header__container">
            <a href="../index.html" class="header__logo">
                <img src="../assets/images/logo/logo.jpg" alt="myhygia Logo" decoding="async">
                <span class="header__logo-text">myhygia</span>
            </a>
            
            <button class="mobile-menu-toggle" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <nav class="nav">
                <ul class="nav__list">
                    <li><a href="../index.html" class="nav__link">Accueil</a></li>
                    <li><a href="boutique.html" class="nav__link nav__link--active">Boutique</a></li>
                    <li><a href="../index.html#about" class="nav__link">À propos</a></li>
                    <li><a href="../index.html#contact" class="nav__link">Contact</a></li>
                </ul>
                <a href="panier.html" class="cart-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"/>
                        <circle cx="20" cy="21" r="1"/>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
                    </svg>
                    <span>Panier</span>
                    <span class="cart-badge" style="display: none;">0</span>
                </a>
            </nav>
        </div>
    </header>

    <main class="shop-page">
        <!-- Shop Header -->
        <div class="shop__header">
            <div class="shop__header-content">
                <h1 class="shop__title">Notre Boutique</h1>
                <p class="shop__subtitle">Découvrez notre collection complète de calots médicaux de qualité</p>
            </div>
        </div>

        <div class="shop__container">
            <!-- Filters -->
            <div class="shop__filters" id="filters">
                <button class="filter-btn active" data-category="all">Tous</button>
                <button class="filter-btn" data-category="fantaisie">Fantaisie</button>
                <button class="filter-btn" data-category="chirurgicaux">Chirurgicaux</button>
            </div>

            <!-- Products Grid -->
            <div class="shop__grid" id="products-grid">
                <!-- Products will be inserted by JavaScript -->
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer__grid">
            <div class="footer__section footer__about">
                <h3>myhygia</h3>
                <p>
                    Votre spécialiste en calots et bonnets médicaux de qualité. 
                    Nous accompagnons les professionnels de santé au quotidien.
                </p>
            </div>
            
            <div class="footer__section">
                <h3>Liens Rapides</h3>
                <div class="footer__links">
                    <a href="../index.html" class="footer__link">Accueil</a>
                    <a href="boutique.html" class="footer__link">Boutique</a>
                    <a href="../index.html#about" class="footer__link">À propos</a>
                    <a href="panier.html" class="footer__link">Panier</a>
                </div>
            </div>
            
            <div class="footer__section">
                <h3>Contact</h3>
                <div class="footer__contact-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                    </svg>
                    <span>+216 96 025 340</span>
                </div>
                <div class="footer__contact-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                    <span>contact@myhygia.ma</span>
                </div>
            </div>
        </div>
        
        <div class="footer__bottom">
            <p>&copy; 2026 myhygia. Tous droits réservés.</p>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <a href="#" class="back-to-top" aria-label="Retour en haut">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 15l-6-6-6 6"/>
        </svg>
    </a>

    <!-- Scripts -->
    <script src="../js/products.js"></script>
    <script src="../js/cart.js"></script>
    <script src="../js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const productsGrid = document.getElementById('products-grid');
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            // Load all products initially
            loadProducts('all');
            
            // Filter button click handlers
            filterButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    filterButtons.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    loadProducts(this.dataset.category);
                });
            });
            
            function loadProducts(category) {
                productsGrid.innerHTML = '';
                const products = getProductsByCategory(category);
                
                if (products.length === 0) {
                    productsGrid.innerHTML = '<div class="shop__empty"><p>Aucun produit trouvé dans cette catégorie.</p></div>';
                    return;
                }
                
                products.forEach((product, index) => {
                    const card = createProductCard(product, '../');
                    card.style.transitionDelay = `${index * 0.1}s`;
                    productsGrid.appendChild(card);
                    
                    // Trigger animation
                    setTimeout(() => card.classList.add('animated'), 50);
                });
            }
        });

        function createProductCard(product, basePath) {
            const card = document.createElement('article');
            card.className = 'product-card animate-on-scroll';
            
            let badgeClass = '';
            if (product.badge === 'Promo') badgeClass = 'product-card__badge--promo';
            if (product.badge === 'Nouveau') badgeClass = 'product-card__badge--nouveau';
            
            card.innerHTML = `
                <div class="product-card__image">
                    <a href="produit.html?id=${product.id}">
                        <img src="${basePath}${product.image}" alt="${product.name}" loading="lazy" decoding="async">
                    </a>
                    ${product.badge ? `<span class="product-card__badge ${badgeClass}">${product.badge}</span>` : ''}
                </div>
                <div class="product-card__content">
                    <span class="product-card__category">${product.category}</span>
                    <h3 class="product-card__name">
                        <a href="produit.html?id=${product.id}">${product.name}</a>
                    </h3>
                    <div class="product-card__price">
                        <span class="product-card__price-current">${product.price} DT</span>
                        ${product.oldPrice ? `<span class="product-card__price-old">${product.oldPrice} DT</span>` : ''}
                    </div>
                    <button class="product-card__btn" onclick="Cart.addItem(${product.id})">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="9" cy="21" r="1"/>
                            <circle cx="20" cy="21" r="1"/>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
                        </svg>
                        Ajouter au panier
                    </button>
                </div>
            `;
            
            return card;
        }
    </script>
</body>
</html>
